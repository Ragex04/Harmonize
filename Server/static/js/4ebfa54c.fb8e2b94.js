(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["4ebfa54c"],{"047e":function(t,e,n){"use strict";var a=n("7156"),s=n.n(a);s.a},3908:function(t,e,n){},4502:function(t,e,n){},7156:function(t,e,n){},"811b":function(t,e,n){},8175:function(t,e,n){"use strict";var a=n("811b"),s=n.n(a);s.a},"845b":function(t,e,n){"use strict";var a=n("4502"),s=n.n(a);s.a},d37d:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"bg-black"},[n("channel-selector"),n("div",{ref:"bg",staticClass:"background-image",style:{"background-image":"url('"+t.base_url+t.nowPlaying.Art+"')"}}),n("div",{staticClass:"content q-pa-md"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-3"},[n("current-player")],1),n("div",{staticClass:"col q-ml-xl"},[n("candidates")],1)])])],1)},s=[],r=n("2f62"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-toolbar",{staticClass:"selector-wrapper"},t._l(t.channels,(function(e){return n("q-btn",{key:e.ID,staticClass:"text-lowercase text-h5",class:{inactive:e.ID!==t.$route.params.channelID},attrs:{to:"/channel/"+e.ID,flat:"",color:"white",label:"#"+e.Name}})})),1)},i=[],c={name:"channel-selector",mounted:function(){this.$store.dispatch("rest/fetchChannels")},watch:{$route:function(t,e){this.$store.dispatch("rest/updateActiveChannel",{channelID:t.params.channelID})}},computed:Object(r["b"])("rest",{channels:function(t){return t.channels}}),props:["channelID"]},l=c,u=(n("845b"),n("2877")),p=n("fe09"),d=Object(u["a"])(l,o,i,!1,null,null,null),h=d.exports;d.options.components=Object.assign({QToolbar:p["m"],QBtn:p["b"]},d.options.components||{});var m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"text-h5 text-white"},[t._v("Vote for...")]),n("q-btn",{attrs:{flat:"",color:"grey",icon:"add_circle_outline",size:"23px",id:"AddSong"},on:{click:t.add}}),n("div",t._l(t.candidates,(function(e){return n("song-art",{key:e.ID,staticClass:"candidate-art float-left",attrs:{title:e.Song.Title,artist:e.Song.Author,album:e.Song.Album,user:{name:e.Addedby.Name,avatar:e.Addedby.Avatar},width:"200px",image:t.base_url+e.Song.Art}})})),1)],1)},b=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"song-art-wrapper q-ma-lg",style:{width:t.width}},[n("q-img",{staticClass:"song-art shadow-23",style:{width:t.width},attrs:{src:t.image,"spinner-color":"white"}}),n("div",{staticClass:"text-white q-pt-md q-pa-sm text-center text-h5 text-weight-bolder"},[t._v(t._s(t.title))]),n("div",{staticClass:"text-white text-center text-h6"},[t._v(t._s(t.album)+" Â· "+t._s(t.artist))]),n("div",{staticClass:"text-white text-center text-h6"},[n("q-avatar",{attrs:{size:"28px"}},[n("img",{attrs:{src:t.base_url+t.user.avatar}})]),n("span",[t._v(" "+t._s(t.user.name))])],1)],1)},g=[],w={name:"song-art",props:["width","title","artist","album","image","user"],computed:Object(r["b"])("rest",{base_url:function(t){return t.base_url}})},v=w,y=Object(u["a"])(v,f,g,!1,null,null,null),_=y.exports;y.options.components=Object.assign({QImg:p["e"],QAvatar:p["a"]},y.options.components||{});var C={name:"candidates",methods:{add:function(){alert("Pick a song")}},watch:{$route:function(t,e){this.$store.dispatch("rest/fetchCandidates",{channelID:this.$route.params.channelID})}},computed:Object(r["b"])("rest",{candidates:function(t){return t.candidates},base_url:function(t){return t.base_url}}),mounted:function(){this.$store.dispatch("rest/fetchCandidates",{channelID:this.$route.params.channelID})},components:{SongArt:_},props:["channelID"]},x=C,$=(n("8175"),Object(u["a"])(x,m,b,!1,null,null,null)),P=$.exports;$.options.components=Object.assign({QBtn:p["b"]},$.options.components||{});var A,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-white"},[n("song-art",{attrs:{title:t.nowPlaying.Title,artist:t.nowPlaying.Author,album:t.nowPlaying.Album,image:t.base_url+t.nowPlaying.Art,user:{name:t.nowPlaying.AddedBy.Name,avatar:t.nowPlaying.AddedBy.Avatar}}}),n("div",{staticClass:"text-center"},[n("q-btn-group",{attrs:{outline:""}},[n("q-btn",{attrs:{ripple:{color:"red"},flat:"",color:"white",icon:"thumb_down",size:"23px"}}),!0===t.playing?n("q-btn",{attrs:{flat:"",color:"white",icon:"music_off",size:"45px"},on:{click:t.mute}}):n("q-btn",{attrs:{flat:"",color:"white",icon:"music_note",size:"45px"},on:{click:t.mute}}),n("q-btn",{staticClass:"relative-position",attrs:{ripple:{color:"green"},flat:"",color:"white",icon:"thumb_up",size:"23px"}})],1)],1),n("div",{staticClass:"audio-component"},[n("av-bars",{staticClass:"viz",attrs:{"canv-width":500,"canv-height":300,"caps-color":"#FFF","bar-color":["#FFF"],"canv-fill-color":"transparent","caps-height":5,"ref-link":"player",controls:"false"}}),n("audio",{ref:"player",staticClass:"player-wrapper",attrs:{controls:"false",src:t.base_url+t.nowPlaying.URL,preload:"auto"}})],1)],1)},D=[],O=n("c47a"),q=n.n(O),j=n("a250"),k=(A={name:"current-player",components:{AudioVisual:j["a"]},methods:{mute:function(){this.$store.dispatch("rest/setPlaying",{playing:!this.$store.state.rest.playing}),this.$refs.player.muted=this.$store.state.rest.playing},audioPlay:function(){console.log("audio data is loaded"),alert("audio loaded and can be played!")}},watch:{$route:function(t,e){this.$store.dispatch("rest/fetchNowPlaying",{channelID:t.params.channelID});var n=this.$store.state.rest.nowPlaying.Time.Current,a=this.$refs.player;a.crossOrigin="anonymous",setTimeout((function(){a.currentTime=n+1.5,a.play()}),1500)}},mounted:function(){this.$store.dispatch("rest/fetchNowPlaying",{channelID:this.$route.params.channelID});var t=this.$store.state.rest.nowPlaying.Time.Current,e=this.$refs.player;e.crossOrigin="anonymous",setTimeout((function(){e.currentTime=t+1.5,e.play()}),1500)},computed:Object(r["b"])("rest",{nowPlaying:function(t){return t.nowPlaying},playing:function(t){return t.playing},base_url:function(t){return t.base_url}})},q()(A,"components",{SongArt:_}),q()(A,"props",["channelID"]),A),S=k,T=(n("e618"),Object(u["a"])(S,I,D,!1,null,null,null)),Q=T.exports;T.options.components=Object.assign({QBtnGroup:p["c"],QBtn:p["b"]},T.options.components||{});var z={name:"Player",components:{CurrentPlayer:Q,ChannelSelector:h,SongArt:_,Candidates:P},mounted:function(){},computed:Object(r["b"])("rest",{nowPlaying:function(t){return t.nowPlaying},base_url:function(t){return t.base_url}})},B=z,F=(n("047e"),Object(u["a"])(B,a,s,!1,null,null,null));e["default"]=F.exports;F.options.components=Object.assign({QPage:p["k"]},F.options.components||{})},e618:function(t,e,n){"use strict";var a=n("3908"),s=n.n(a);s.a}}]);